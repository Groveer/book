<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>vim - Book</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">说明</a></li><li class="spacer"></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Linux</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../linux/auto-login.html"><strong aria-hidden="true">1.1.</strong> 自动登录</a></li><li class="chapter-item expanded "><a href="../linux/zram.html"><strong aria-hidden="true">1.2.</strong> zram交换空间</a></li></ol></li><li class="chapter-item expanded "><a href="../archlinux/index.html"><strong aria-hidden="true">2.</strong> Arch Linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../archlinux/install.html"><strong aria-hidden="true">2.1.</strong> 系统安装</a></li><li class="chapter-item expanded "><a href="../archlinux/config.html"><strong aria-hidden="true">2.2.</strong> 系统配置</a></li><li class="chapter-item expanded "><a href="../archlinux/install-nvidia.html"><strong aria-hidden="true">2.3.</strong> N卡驱动安装</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Deepin</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../deepin/repair-system.html"><strong aria-hidden="true">3.1.</strong> 系统修复</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../cmake/index.html"><strong aria-hidden="true">4.</strong> CMake</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cmake/basic.html"><strong aria-hidden="true">4.1.</strong> 基础用法</a></li><li class="chapter-item expanded "><a href="../cmake/advanced.html"><strong aria-hidden="true">4.2.</strong> 高级用法</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Qt</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../qt/tips.html"><strong aria-hidden="true">5.1.</strong> 小技巧</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> 工具</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tools/git.html"><strong aria-hidden="true">6.1.</strong> git</a></li><li class="chapter-item expanded "><a href="../tools/qemu.html"><strong aria-hidden="true">6.2.</strong> qemu</a></li><li class="chapter-item expanded "><a href="../tools/vim.html" class="active"><strong aria-hidden="true">6.3.</strong> vim</a></li><li class="chapter-item expanded "><a href="../tools/vnc.html"><strong aria-hidden="true">6.4.</strong> vnc</a></li><li class="chapter-item expanded "><a href="../tools/vscode.html"><strong aria-hidden="true">6.5.</strong> vscode</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Groveer/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="保存时获得sudo权限"><a class="header" href="#保存时获得sudo权限">保存时获得sudo权限</a></h1>
<pre><code class="language-shell">:w !sudo tee %
</code></pre>
<ol>
<li>命令:<code>w !{cmd}</code>，让 <code>vim</code> 执行一个外部命令{cmd}，然后把当前缓冲区的内容从 stdin 传入。</li>
<li><code>tee</code> 是一个把 <code>stdin</code> 保存到文件的小工具。</li>
<li>而 <code>%</code>，是<code>vim</code>当中一个只读寄存器的名字，总保存着当前编辑文件的文件路径。</li>
</ol>
<h1 id="简单高效的vim配置"><a class="header" href="#简单高效的vim配置">简单高效的vim配置</a></h1>
<p>创建<code>~/.vimrc</code>文件并输入：</p>
<pre><code class="language-vim">set nocompatible    &quot; 关闭兼容模式
syntax enable       &quot; 语法高亮
&quot; 开启文件类型侦测
filetype on
&quot; 根据侦测到的不同类型加载对应的插件
filetype plugin on  &quot; 文件类型插件
filetype indent on
set autoindent
autocmd BufEnter * :syntax sync fromstart
&quot; 设置背景透明
hi Normal ctermfg=252 ctermbg=none

set nu              &quot; 显示行号
set showcmd         &quot; 显示命令
set lz              &quot; 当运行宏时，在命令执行完成之前，不重绘屏幕
set hid             &quot; 可以在没有保存的情况下切换buffer
set backspace=eol,start,indent
set whichwrap+=&lt;,&gt;,h,l &quot; 退格键和方向键可以换行
set incsearch       &quot; 增量式搜索
set hlsearch        &quot; 搜索时，高亮显示匹配结果。
&quot; set ignorecase      &quot; 搜索时忽略大小写
set magic           &quot; 额，自己:h magic吧，一行很难解释
set showmatch       &quot; 光标遇到圆括号、方括号、大括号时，自动高亮对应的另一个圆括号、方括号和大括号。
set nowb
set nobackup
set noswapfile      &quot; 不使用swp文件，注意，错误退出后无法恢复
set lbr             &quot; 在breakat字符处而不是最后一个字符处断行
set ai              &quot; 自动缩进
set si              &quot; 智能缩进
set cindent         &quot; C/C++风格缩进

&quot;命令模式下，底部操作指令按下 Tab 键自动补全。第一次按下 Tab，会显示所有匹配的操作指令的清单；第二次按下 Tab，会依次选择各个指令。
set wildmenu
set wildmode=longest:list,full

set nofen
set fdl=10
&quot; tab转化为4个字符
set expandtab
set smarttab
set shiftwidth=4
set tabstop=4
&quot; 不使用beep或flash
set vb t_vb=
&quot;colorscheme elflord
&quot; 启用256色
set t_Co=256
set t_ut=n

set history=50  &quot; vim记住的历史操作的数量，默认的是20
set autoread     &quot; 当文件在外部被修改时，自动重新读取
set mouse=a      &quot; 在所有模式下都允许使用鼠标，还可以是n,v,i,c等

&quot; 光标所在的当前行高亮
set cursorline
&quot; highlight CursorLine   cterm=NONE ctermbg=gray ctermfg=black guibg=NONE guifg=NONE
&quot; highlight CocHighlightText cterm=NONE ctermbg=yellow ctermfg=black guibg=NONE guifg=NONE


&quot; 插件窗口的宽度，如TagList,NERD_tree等，自己设置
let s:PlugWinSize = 28

&quot; 自动完成括号和引号
inoremap &lt;leader&gt;1 ()&lt;esc&gt;:let leavechar=&quot;)&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;2 []&lt;esc&gt;:let leavechar=&quot;]&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;3 {}&lt;esc&gt;:let leavechar=&quot;}&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;4 {&lt;esc&gt;o}&lt;esc&gt;:let leavechar=&quot;}&quot;&lt;cr&gt;O
inoremap &lt;leader&gt;q ''&lt;esc&gt;:let leavechar=&quot;'&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;w &quot;&quot;&lt;esc&gt;:let leavechar='&quot;'&lt;cr&gt;i

&quot; 用 */# 向 前/后 搜索光标下的单词
vnoremap &lt;silent&gt; * :call VisualSearch('f')&lt;CR&gt;
vnoremap &lt;silent&gt; # :call VisualSearch('b')&lt;CR&gt;

&quot; 用c-j,k在buffer之间切换
nn &lt;C-J&gt; :bn&lt;cr&gt;
nn &lt;C-K&gt; :bp&lt;cr&gt;
nn &lt;C-H&gt; :b1&lt;cr&gt;

&quot; ==================================================
&quot;                快捷键运行脚本
&quot; ==================================================
&quot; &lt;F5&gt;运行python3脚本
map &lt;F5&gt; :call RunPython()&lt;CR&gt;
func! RunPython()
    exec &quot;W&quot;
    if &amp;filetype == 'python'
        exec &quot;!time python3 %&quot;
    endif
endfunc
</code></pre>
<h1 id="配置cc开发环境"><a class="header" href="#配置cc开发环境">配置C/C++开发环境</a></h1>
<ol>
<li>安装基础包</li>
</ol>
<pre><code class="language-shell">yay -S nodejs npm vim 
</code></pre>
<ol start="2">
<li>如果使用makefile而不是cmake,还需要安装</li>
</ol>
<pre><code class="language-shell">yay -S bear
</code></pre>
<p>每次使用<code>bear make</code>生成配置文件
3. 安装插件管理，强烈推荐<code>vim-plug</code></p>
<pre><code class="language-shell">yay -S vim-plug
</code></pre>
<p>或</p>
<pre><code class="language-shell">curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
</code></pre>
<ol start="4">
<li>编写<code>.vimrc</code></li>
</ol>
<pre><code class="language-vim">&quot; 以下每个插件，都可使用https://github.com/***查看其官方介绍
call plug#begin('~/.vim/plugged')
Plug 'Yggdroot/indentLine'                          &quot;显示对齐线
Plug 'scrooloose/nerdtree'                          &quot;显示文件目录
Plug 'scrooloose/nerdcommenter'                     &quot;用于快速高效注释代码
Plug 'neoclide/coc.nvim', {'branch': 'release'}     &quot;基于nodejs的智能补全插件，非常强大
Plug 'vim-airline/vim-airline'                      &quot;友好的显示状态栏
Plug 'peterhoeg/vim-qml'                            &quot;qml高亮
Plug 'octol/vim-cpp-enhanced-highlight'             &quot;cpp高亮
Plug 'ryanoasis/vim-devicons'                       &quot;显示文件类型图标，系统需安装图标字体：yay -S nerd-fonts-complete
Plug 'junegunn/fzf.vim'                             &quot;文件搜索工具，yay -S fzf the_silver_searcher
call plug#end()

set nocompatible    &quot; 关闭兼容模式
syntax on       &quot; 语法高亮
&quot; 开启文件类型侦测
filetype on
&quot; 根据侦测到的不同类型加载对应的插件
filetype plugin on  &quot; 文件类型插件
filetype indent on
set autoindent
autocmd BufEnter * :syntax sync fromstart
&quot; 设置背景透明
hi Normal ctermfg=252 ctermbg=none

set nu              &quot; 显示行号
set showcmd         &quot; 显示命令
set lz              &quot; 当运行宏时，在命令执行完成之前，不重绘屏幕
set hid             &quot; 可以在没有保存的情况下切换buffer
set backspace=eol,start,indent
set whichwrap+=&lt;,&gt;,h,l &quot; 退格键和方向键可以换行
set incsearch       &quot; 增量式搜索
set hlsearch        &quot; 搜索时，高亮显示匹配结果。
&quot; set ignorecase      &quot; 搜索时忽略大小写
set magic           &quot; 额，自己:h magic吧，一行很难解释
set showmatch       &quot; 光标遇到圆括号、方括号、大括号时，自动高亮对应的另一个圆括号、方括号和大括号。
set nowb
set noswapfile      &quot; 不使用swp文件，注意，错误退出后无法恢复
set lbr             &quot; 在breakat字符处而不是最后一个字符处断行
set ai              &quot; 自动缩进
set si              &quot; 智能缩进
set cindent         &quot; C/C++风格缩进

&quot;命令模式下，底部操作指令按下 Tab 键自动补全。第一次按下 Tab，会显示所有匹配的操作指令的清单；第二次按下 Tab，会依次选择各个指令。
set wildmenu
set wildmode=longest:list,full

set nofen
set fdl=10
&quot; tab转化为4个字符
set expandtab
set smarttab
set shiftwidth=4
set tabstop=4
&quot; 不使用beep或flash
set vb t_vb=
&quot;set background=dark
&quot;colorscheme elflord
&quot; 启用256色
set t_Co=256
set t_ut=n

set history=50  &quot; vim记住的历史操作的数量，默认的是20
set autoread     &quot; 当文件在外部被修改时，自动重新读取
set mouse=a      &quot; 在所有模式下都允许使用鼠标，还可以是n,v,i,c等

&quot; 光标所在的当前行高亮
set cursorline
&quot; highlight CursorLine   cterm=NONE ctermbg=gray ctermfg=black guibg=NONE guifg=NONE
&quot; highlight CocHighlightText cterm=NONE ctermbg=yellow ctermfg=black guibg=NONE guifg=NONE

&quot; 高亮多余的空白字符及Tab
highlight RedundantSpaces ctermbg=red guibg=red
match RedundantSpaces /\s\+$\| \+\ze\t\|\t/

&quot; 插件窗口的宽度，如TagList,NERD_tree等，自己设置
let s:PlugWinSize = 28

&quot; 自动完成括号和引号
inoremap &lt;leader&gt;1 ()&lt;esc&gt;:let leavechar=&quot;)&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;2 []&lt;esc&gt;:let leavechar=&quot;]&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;3 {}&lt;esc&gt;:let leavechar=&quot;}&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;4 {&lt;esc&gt;o}&lt;esc&gt;:let leavechar=&quot;}&quot;&lt;cr&gt;O
inoremap &lt;leader&gt;q ''&lt;esc&gt;:let leavechar=&quot;'&quot;&lt;cr&gt;i
inoremap &lt;leader&gt;w &quot;&quot;&lt;esc&gt;:let leavechar='&quot;'&lt;cr&gt;i

&quot; 用 */# 向 前/后 搜索光标下的单词
vnoremap &lt;silent&gt; * :call VisualSearch('f')&lt;CR&gt;
vnoremap &lt;silent&gt; # :call VisualSearch('b')&lt;CR&gt;

&quot; 用c-j,k在buffer之间切换
nn &lt;C-J&gt; :bn&lt;cr&gt;
nn &lt;C-K&gt; :bp&lt;cr&gt;
nn &lt;C-H&gt; :b1&lt;cr&gt;

let mapleader=','

&quot;----------------------------------------------------
&quot;                    indentLine
&quot;----------------------------------------------------
let g:indentLine_enabled = 1
let g:indent_guides_guide_size            = 1  &quot; 指定对齐线的尺寸
let g:indent_guides_start_level           = 2  &quot; 从第二层开始可视化显示缩进

&quot;----------------------------------------------------
&quot;                    nerdtree
&quot;----------------------------------------------------
&quot; 进入 vim 时自动开启 NERDTree
autocmd VimEnter * NERDTree | wincmd p
&quot; 若关闭某个 buff 后 NERDTree 是仅剩的最后一个 buff，则自动关闭 NERDTree
autocmd BufEnter * if tabpagenr('$') == 1 &amp;&amp; winnr('$') == 1 &amp;&amp; exists('b:NERDTree') &amp;&amp; b:NERDTree.isTabTree() | quit | endif
&quot; 使用PlugWinSize
let NERDTreeWinSize = s:PlugWinSize
&quot; 使用 Ctrl+n 快捷键打开或关闭 NERDTree
nnoremap &lt;C-n&gt; :NERDTreeToggle&lt;CR&gt;


&quot;----------------------------------------------------
&quot;                    fzf
&quot;----------------------------------------------------
&quot;fzf快捷键 ctrl+p
nnoremap &lt;silent&gt; &lt;C-p&gt; :Files&lt;CR&gt;
nnoremap &lt;silent&gt; &lt;C-k&gt; :Buffers&lt;CR&gt;
nnoremap &lt;silent&gt; &lt;C-a&gt; :Ag&lt;CR&gt;
&quot; 若需要设置过滤路径：
&quot; yay -S fd
&quot; vim ~/.zshrc
&quot; export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git'
&quot; vim ~/.config/fd/ignore
&quot; 输入要过滤的文件或文件夹，如：
&quot; build
&quot; build-Release

&quot;----------------------------------------------------
&quot;                    coc.nvim
&quot;----------------------------------------------------
&quot; Set internal encoding of vim, not needed on neovim, since coc.nvim using some
&quot; unicode characters in the file autoload/float.vim
set encoding=utf-8

&quot; TextEdit might fail if hidden is not set.
set hidden

&quot; Some servers have issues with backup files, see #649.
set nobackup
set nowritebackup

&quot; Give more space for displaying messages.
set cmdheight=2

&quot; Having longer updatetime (default is 4000 ms = 4 s) leads to noticeable
&quot; delays and poor user experience.
set updatetime=300

&quot; Don't pass messages to |ins-completion-menu|.
set shortmess+=c

&quot; Always show the signcolumn, otherwise it would shift the text each time
&quot; diagnostics appear/become resolved.
if has(&quot;nvim-0.5.0&quot;) || has(&quot;patch-8.1.1564&quot;)
  &quot; Recently vim can merge signcolumn and number column into one
  set signcolumn=number
else
  set signcolumn=yes
endif

&quot; Use tab for trigger completion with characters ahead and navigate.
&quot; NOTE: Use command ':verbose imap &lt;tab&gt;' to make sure tab is not mapped by
&quot; other plugin before putting this into your config.
inoremap &lt;silent&gt;&lt;expr&gt; &lt;TAB&gt;
      \ pumvisible() ? &quot;\&lt;C-n&gt;&quot; :
      \ CheckBackspace() ? &quot;\&lt;TAB&gt;&quot; :
      \ coc#refresh()
inoremap &lt;expr&gt;&lt;S-TAB&gt; pumvisible() ? &quot;\&lt;C-p&gt;&quot; : &quot;\&lt;C-h&gt;&quot;

function! CheckBackspace() abort
  let col = col('.') - 1
  return !col || getline('.')[col - 1]  =~# '\s'
endfunction

&quot; Use &lt;c-space&gt; to trigger completion.
if has('nvim')
  inoremap &lt;silent&gt;&lt;expr&gt; &lt;c-space&gt; coc#refresh()
else
  inoremap &lt;silent&gt;&lt;expr&gt; &lt;c-@&gt; coc#refresh()
endif

&quot; Make &lt;CR&gt; auto-select the first completion item and notify coc.nvim to
&quot; format on enter, &lt;cr&gt; could be remapped by other vim plugin
inoremap &lt;silent&gt;&lt;expr&gt; &lt;cr&gt; pumvisible() ? coc#_select_confirm()
                              \: &quot;\&lt;C-g&gt;u\&lt;CR&gt;\&lt;c-r&gt;=coc#on_enter()\&lt;CR&gt;&quot;

&quot; Use `[g` and `]g` to navigate diagnostics
&quot; Use `:CocDiagnostics` to get all diagnostics of current buffer in location list.
nmap &lt;silent&gt; [g &lt;Plug&gt;(coc-diagnostic-prev)
nmap &lt;silent&gt; ]g &lt;Plug&gt;(coc-diagnostic-next)

&quot; GoTo code navigation.
nmap &lt;silent&gt; gd &lt;Plug&gt;(coc-definition)
nmap &lt;silent&gt; gy &lt;Plug&gt;(coc-type-definition)
nmap &lt;silent&gt; gi &lt;Plug&gt;(coc-implementation)
nmap &lt;silent&gt; gr &lt;Plug&gt;(coc-references)

&quot; Use K to show documentation in preview window.
nnoremap &lt;silent&gt; K :call ShowDocumentation()&lt;CR&gt;

function! ShowDocumentation()
  if CocAction('hasProvider', 'hover')
    call CocActionAsync('doHover')
  else
    call feedkeys('K', 'in')
  endif
endfunction

&quot; Highlight the symbol and its references when holding the cursor.
autocmd CursorHold * silent call CocActionAsync('highlight')

&quot; Symbol renaming.
nmap &lt;leader&gt;rn &lt;Plug&gt;(coc-rename)

&quot; Formatting selected code.
xmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)
nmap &lt;leader&gt;f  &lt;Plug&gt;(coc-format-selected)

augroup mygroup
  autocmd!
  &quot; Setup formatexpr specified filetype(s).
  autocmd FileType typescript,json setl formatexpr=CocAction('formatSelected')
  &quot; Update signature help on jump placeholder.
  autocmd User CocJumpPlaceholder call CocActionAsync('showSignatureHelp')
augroup end

&quot; Applying codeAction to the selected region.
&quot; Example: `&lt;leader&gt;aap` for current paragraph
xmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)
nmap &lt;leader&gt;a  &lt;Plug&gt;(coc-codeaction-selected)

&quot; Remap keys for applying codeAction to the current buffer.
nmap &lt;leader&gt;ac  &lt;Plug&gt;(coc-codeaction)
&quot; Apply AutoFix to problem on the current line.
nmap &lt;leader&gt;qf  &lt;Plug&gt;(coc-fix-current)

&quot; Run the Code Lens action on the current line.
nmap &lt;leader&gt;cl  &lt;Plug&gt;(coc-codelens-action)

&quot; Map function and class text objects
&quot; NOTE: Requires 'textDocument.documentSymbol' support from the language server.
xmap if &lt;Plug&gt;(coc-funcobj-i)
omap if &lt;Plug&gt;(coc-funcobj-i)
xmap af &lt;Plug&gt;(coc-funcobj-a)
omap af &lt;Plug&gt;(coc-funcobj-a)
xmap ic &lt;Plug&gt;(coc-classobj-i)
omap ic &lt;Plug&gt;(coc-classobj-i)
xmap ac &lt;Plug&gt;(coc-classobj-a)
omap ac &lt;Plug&gt;(coc-classobj-a)

&quot; Remap &lt;C-f&gt; and &lt;C-b&gt; for scroll float windows/popups.
if has('nvim-0.4.0') || has('patch-8.2.0750')
  nnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-f&gt; coc#float#has_scroll() ? coc#float#scroll(1) : &quot;\&lt;C-f&gt;&quot;
  nnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-b&gt; coc#float#has_scroll() ? coc#float#scroll(0) : &quot;\&lt;C-b&gt;&quot;
  inoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-f&gt; coc#float#has_scroll() ? &quot;\&lt;c-r&gt;=coc#float#scroll(1)\&lt;cr&gt;&quot; : &quot;\&lt;Right&gt;&quot;
  inoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-b&gt; coc#float#has_scroll() ? &quot;\&lt;c-r&gt;=coc#float#scroll(0)\&lt;cr&gt;&quot; : &quot;\&lt;Left&gt;&quot;
  vnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-f&gt; coc#float#has_scroll() ? coc#float#scroll(1) : &quot;\&lt;C-f&gt;&quot;
  vnoremap &lt;silent&gt;&lt;nowait&gt;&lt;expr&gt; &lt;C-b&gt; coc#float#has_scroll() ? coc#float#scroll(0) : &quot;\&lt;C-b&gt;&quot;
endif

&quot; Use CTRL-S for selections ranges.
&quot; Requires 'textDocument/selectionRange' support of language server.
nmap &lt;silent&gt; &lt;C-s&gt; &lt;Plug&gt;(coc-range-select)
xmap &lt;silent&gt; &lt;C-s&gt; &lt;Plug&gt;(coc-range-select)

&quot; Add `:Format` command to format current buffer.
command! -nargs=0 Format :call CocActionAsync('format')

&quot; Add `:Fold` command to fold current buffer.
command! -nargs=? Fold :call     CocAction('fold', &lt;f-args&gt;)

&quot; Add `:OR` command for organize imports of the current buffer.
command! -nargs=0 OR   :call     CocActionAsync('runCommand', 'editor.action.organizeImport')

&quot; Add (Neo)Vim's native statusline support.
&quot; NOTE: Please see `:h coc-status` for integrations with external plugins that
&quot; provide custom statusline: lightline.vim, vim-airline.
set statusline^=%{coc#status()}%{get(b:,'coc_current_function','')}

&quot; Mappings for CoCList
&quot; Show all diagnostics.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;a  :&lt;C-u&gt;CocList diagnostics&lt;cr&gt;
&quot; Manage extensions.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;e  :&lt;C-u&gt;CocList extensions&lt;cr&gt;
&quot; Show commands.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;c  :&lt;C-u&gt;CocList commands&lt;cr&gt;
&quot; Find symbol of current document.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;o  :&lt;C-u&gt;CocList outline&lt;cr&gt;
&quot; Search workspace symbols.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;s  :&lt;C-u&gt;CocList -I symbols&lt;cr&gt;
&quot; Do default action for next item.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;j  :&lt;C-u&gt;CocNext&lt;CR&gt;
&quot; Do default action for previous item.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;k  :&lt;C-u&gt;CocPrev&lt;CR&gt;
&quot; Resume latest coc list.
nnoremap &lt;silent&gt;&lt;nowait&gt; &lt;space&gt;p  :&lt;C-u&gt;CocListResume&lt;CR&gt;

&quot;----------------------------------------------------
&quot;               vim-cpp-enhanced-highlight
&quot;----------------------------------------------------
&quot; 默认情况下禁用类范围的突出显示。 启用设置
let g:cpp_class_scope_highlight = 1
&quot; 默认情况下禁用成员变量的突出显示。 启用设置 
let g:cpp_member_variable_highlight = 1
&quot; 默认情况下，声明中类名的突出显示是禁用的。 启用设置 
let g:cpp_class_decl_highlight = 1
&quot; 默认情况下禁用 POSIX 函数的突出显示。 启用设置
let g:cpp_posix_standard = 1
&quot; 可以突出显示模板功能
let g:cpp_experimental_template_highlight = 1
&quot; 启用库概念的突出显示
let g:cpp_concepts_highlight = 1
</code></pre>
<p>编写完成后保存，然后执行：</p>
<pre><code class="language-vim">:PlugInstall
</code></pre>
<p>等待插件安装完成，安装coc插件：</p>
<pre><code class="language-vim">:CocInstall coc-json coc-clangd
</code></pre>
<p>装完之后使用方式，首先cd到项目目录：</p>
<pre><code class="language-shell">mkdir build
cd build
cmake .. -G Ninja -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=1
</code></pre>
<p>然后使用vim打开项目文件即可正常编辑，可以愉快的享受智能提示及语法高亮了！</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../tools/qemu.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../tools/vnc.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../tools/qemu.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../tools/vnc.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
